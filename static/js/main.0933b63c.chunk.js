(this.webpackJsonppirateadventure=this.webpackJsonppirateadventure||[]).push([[0],{13:function(A,e,t){},14:function(A,e,t){},18:function(A,e,t){},19:function(A,e,t){"use strict";t.r(e);var i=t(1),n=t.n(i),r=t(7),o=t.n(r),s=(t(13),t(2));t(14);function c(){for(var A="#",e=0;e<6;e++)A+="0123456789ABCDEF"[Math.floor(16*Math.random())];return A}function a(A){return{x:Math.floor(Math.random()*A.numberOfColumn),y:Math.floor(Math.random()*A.numberOfRow)}}var d={x:60,y:60};function u(){var A={firstgridUnitStartCoord:d,UnitsList:[],numberOfRow:5,numberOfColumn:5,unitRadius:60};return A=function(A){var e=a(A),t=a(A);return console.log("grid :",A),A.UnitsList[e.x][e.y].fill="url(#banditCamp)",A.UnitsList[e.x][e.y].encounterType="bandit",A.UnitsList[t.x][t.y].fill="url(#grass)",A.UnitsList[t.x][t.y].encounterType="mage",console.log("grid after fill",A),A}(A=function(A){for(var e=0,t=0;t<A.numberOfColumn;t++){A.UnitsList[t]=[];for(var i=0;i<A.numberOfRow;i++){var n={indice:0,coordInGrid:{x:0,y:0},coordStart:{x:0,y:0},radius:60,fill:null,opacity:1,encounterType:null,stroke:null,strokeWidth:5,rotateAngle:0};n.coordStart.x=A.firstgridUnitStartCoord.x+2*t*A.unitRadius,n.coordStart.y=A.firstgridUnitStartCoord.y+2*i*A.unitRadius,n.coordInGrid={x:t,y:i},n.indice=e++,n.fill=c(),A.UnitsList[t][i]=n}}return A}(A))}var g=t(3),l=t(4),h=t.n(l);function f(A,e,t){var i=[{x:0,y:0,pos:""}];return i[0]={x:A.x-1,y:A.y-1,pos:"northWest"},i[1]={x:A.x-1,y:A.y+1,pos:"southWest"},i[2]={x:A.x+1,y:A.y+1,pos:"southEast"},i[3]={x:A.x+1,y:A.y-1,pos:"northEast"},i[4]={x:A.x+1,y:A.y,pos:"east"},i[5]={x:A.x-1,y:A.y,pos:"west"},i[6]={x:A.x,y:A.y-1,pos:"north"},i[7]={x:A.x,y:A.y+1,pos:"south"},i.slice(0).forEach((function(A){(A.x<0||A.y>e-1||A.y<0||A.x>t-1)&&i.splice(i.indexOf(A),1)})),i}var x=t.p+"static/media/Pirate.b7057660.png",j=t(0);var m=function(A){var e=A.grid,t=A.setGrid,i=A.previousgrid,n=A.setPreviousGrid,r=A.posCaracterInGrid,o=A.posCaracterInSvg,s=A.neighboursAreDisplay,c=A.setNeighboursAreDisplay;return Object(j.jsxs)("g",{className:"caracter",onMouseEnter:function(){if(!1===s){c(!0);var A=Object(g.a)({},e);n(h.a.cloneDeep(e)),t(function(A,e){var t=f(A.coordInGrid,e.numberColumn,e.numberRow);e.UnitsList.map((function(A){return A.map((function(A){return A.opacity=.2}))}));for(var i=0;i<t.length;i++)e.UnitsList[t[i].x][t[i].y].opacity=1,e.UnitsList[t[i].x][t[i].y].stroke="black",e.UnitsList[t[i].x][t[i].y].strokeWidth=3;return e}(e.UnitsList[r.x][r.y],A))}},onMouseLeave:function(){!0===s&&(c(!1),t(i))},children:[Object(j.jsx)("rect",{width:"60",height:"60",x:o.x-30,y:o.y-30,fill:"url(#player)"}),Object(j.jsx)("defs",{children:Object(j.jsx)("pattern",{id:"player",x:"0",y:"0",width:"1",height:"1",viewBox:"0 0 382 412",children:Object(j.jsx)("image",{width:"382",height:"412",href:x})})})]},"PJ")},p=t.p+"static/media/BanditCamp.111e7e62.jpg",b=t.p+"static/media/Beach.28d810a6.png";function v(A){var e=A.subLeftGrigSize,t=A.setCurrentUnit,n=A.currentUnit,r=Object(i.useState)(u()),o=Object(s.a)(r,2),c=o[0],a=o[1],d=Object(i.useState)(c),g=Object(s.a)(d,2),l=g[0],h=g[1],x=Object(i.useState)({x:c.UnitsList[0][0].coordStart.x+c.unitRadius,y:c.UnitsList[0][0].coordStart.y+c.unitRadius}),v=Object(s.a)(x,2),y=v[0],w=v[1],O=Object(i.useState)(c.UnitsList[0][0].coordInGrid),B=Object(s.a)(O,2),D=B[0],C=B[1],U=Object(i.useState)(!1),E=Object(s.a)(U,2),Q=E[0],I=E[1],L=Object(i.useState)(f(n.coordInGrid,c.numberColumn,c.numberRow)),P=Object(s.a)(L,2),S=P[0],M=P[1];return Object(j.jsxs)("svg",{viewBox:"0 0 ".concat(1.5*e.width," ").concat(1.5*e.height),preserveAspectRatio:"xMidYMid meet",children:[c.UnitsList.map((function(A){return A.map((function(A){return Object(j.jsxs)("g",{onClick:function(){if(!0===function(A,e){for(var t=!1,i=0;i<e.length;i++)e[i].x===A.coordInGrid.x&&e[i].y===A.coordInGrid.y&&(t=!0);return t}(A,S)){t(A),w({x:A.coordStart.x+A.radius,y:A.coordStart.y+A.radius}),C(A.coordInGrid);var e=f(A.coordInGrid,c.numberColumn,c.numberRow);M(e)}},children:[Object(j.jsx)("rect",{x:A.coordStart.x,y:A.coordStart.y,width:2*A.radius,height:2*A.radius,fill:A.fill,opacity:A.opacity,strokeWidth:A.strokeWidth}),Object(j.jsx)("text",{x:A.coordStart.x+A.radius,y:A.coordStart.y+A.radius,fontFamily:"Verdana",fontSize:"10",fill:"white",textAnchor:"middle",children:"".concat(A.coordInGrid.x,", ").concat(A.coordInGrid.y)}),Object(j.jsxs)("defs",{children:[Object(j.jsx)("pattern",{id:"grass",x:"0",y:"0",width:"1",height:"1",viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid slice",children:Object(j.jsx)("image",{width:"320",height:"320",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFABAMAAAA/vriZAAAAAXNSR0IArs4c6QAAAB5QTFRFU4olcKguksxOK28KKGULRYEnfLk1N2seTqAmR3cwJY0EcAAABUNJREFUeJztmtFt3jAMhLWCV9AKXkErcAWvoBWygretSMp9LPNi3xW4Asmf6hTgq2qLtPy1drTW+tn8z2h9fbM1NK7WpkWGzuEAJaBNn9BjYP20ZsX45VMPghwOUOZrdbvF4s6Y29a3GZOGGT6HA9SAI5bTk3bmNTv9p/jvPw2ewwFKwL4n/Fx/J/iin0dctKehc37Aa+St/rP3nCP3Sx9dM05D5/yAvr5+e/tX3PPWRhac9TdbH+gcDlACHjl8OuoZE3vL9fUJ+BwOUAM+ebu84niVibI9bS3wWm10Dgeo8h7FJtbyWpenDU/3HjmiAmFzOEAJuDfF0aLT9sZnzxj9+RdgczhAnfcoLev2PvagL67t5xd4Dgf4BeDlm80uMpd3i8Mn9NuyHQfncIAScK3n3e/42Z+UZ1ywa61vm/H76Jwf0Lvu+7TYKU87zv3gd6yL1sc6PIcDlIDDrrtlY+Mfva+Vnvk4aAw5HOAXgLFPxqW67m6fddqMNZ924XM4QAkYia/m3do+9Rq2LlG/QqNzROdwgBIwispsV0yI5+bh++a6XLNzROdwgCq3Y+2T5/OoYjnBjx/8UdrPx8A5HKDMZ5wx+OI+jyut5YTTL1h0zg8YZzYjh2ccN6yPaftxcBg65wdcT3r7+GvtjXdM8Lztg0RD5/8D4LrJs+WORtvvG//yG97mepAG5/yAT9PvNe+cftoVE2a23B2ewwFKwJZN94gjiNX67AL+vKXqBDkcoARci7qu1TsmXLlfXlEFvQmiyOEA/8y9vsw5om+MdsfX/IgyPncJh+ZwgDLPznC04/Yn5pkPgYdfovlCBZzDAUrAdSdnsxMWQ77j9iKzt8mJz+EAZR7j+SbZF9VfcudRTr4iQOdwgBJw7YlRmp8JIyb0qDieoXM4QAnoMgO1nocGKAF9m2TW8+AAZe4H/8as59EDDnI9Dw1QAqL1O/mD8gfh+p38QfmDaP1O/uDbeh4aQP7gBzm9nkcPSK7noQHkD8ofhAPIH5Q/iAYoAeH6nfxB+YNo/U7+4Ls5P2Cc2eQL0X3c0Lj0PDRACYjW7+QPyh98mn6veZR6HhqgBGzZdFPreWgA+YMv515fmPU8OECZs+t5aAD5gx/kMU6s56EB5A/KH0QDlIC+TTLreXCAMveDf2PW8+gBB7mehwYoAdH6nfxB+YNw/U7+oPxBtH4nf/BtPQ8NIH/wg5xez6MHJNfz0ADyB+UPwgHkD8ofRAOUgHD9Tv6g/EG0fid/8N2cHzDObPKF6D5uaFx6HhqgBETrd/IH5Q8+Tb/XPEo9Dw1QArZsuqn1PDSA/MGXc68vzHoeHKDM2fU8NID8wQ/yGCfW89AA8gflD6IBSkDfJpn1PDhAmfvBvzHrefSAg1zPQwOUgGj9Tv6g/EG4fid/UP4gWr+TP/i2nocGkD/4QU6v59EDkut5aAD5g/IH4QDyB+UPogFKQLh+J39Q/iBav5M/+G7ODxhnNvlCdB83NC49Dw1QAqL1O/mD8gefpt9rHqWehwYoAVs23dR6HhpA/uDLudcXZj0PDlDm7HoeGkD+4Ad5jBPreWgA+YPyB9EAJaBvk8x6HhygzP3g35j1PHrAQa7noQFKQLR+J39Q/iBcv5M/KH8Qrd/JH3xbz0MDyB/8IKfX8+gByfU8NID8QfmDcAD5g/IH0QAlIFy/kz8ofxCt38kffDfnB4wzm3whuo8bGpeehwYoAdH6nfxB+YNP0+81j1LPQwOUgC2bbmo9Dw0gf/Dl3OsLs54HByhzdj0PDSB/8IM8xon1PDSA/MGX8z+JQp0l6fDUVAAAAABJRU5ErkJggg=="})}),Object(j.jsx)("pattern",{id:"banditCamp",x:"0",y:"0",width:"1",height:"1",viewBox:"0 0 700 310",preserveAspectRatio:"xMidYMid slice",children:Object(j.jsx)("image",{href:p,width:"700",height:"310"})}),Object(j.jsx)("pattern",{id:"beach",x:"0",y:"0",width:"1",height:"1",viewBox:"0 0 314 314",preserveAspectRatio:"xMidYMid slice",children:Object(j.jsx)("image",{transform:"rotate(".concat(A.rotateAngle," 157 157)"),href:b,width:"314",height:"314"})})]})]},"indice".concat(A.indice))}))})),Object(j.jsx)(m,{grid:c,setGrid:a,previousgrid:l,setPreviousGrid:h,posCaracterInGrid:D,posCaracterInSvg:y,neighboursAreDisplay:Q,setNeighboursAreDisplay:I})]})}t(18);var y=t.p+"static/media/tardigrade.b6bf20ef.jpg",w=t.p+"static/media/OldWizzard.ca01dff1.jpg",O=t(5),B=t(8),D=function(){function A(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(O.a)(this,A),this.picture=e,this.text=t,this.answers=i}return Object(B.a)(A,[{key:"addAnswer",value:function(A){this.answers.push(A)}},{key:"manageGoto",value:function(){return this.answers.goto}}]),A}(),C=function A(e,t){Object(O.a)(this,A),this.text=e,this.goto=t};function U(A,e){var t=E();return""===A||("bandit"===A.encounterType?t=function(A){var e=new D(y,"Hello hello voisin"),t=new C("Laisser ce magnifique animal",E());e.addAnswer(t),null==A&&(A=e);return A}(e):"mage"===A.encounterType&&(t=function(A){var e=new D(w,"Bonjour aventurier, je suis un vieux mage qui sert de test pour le d\xe9veloppement de rencontres avec les PNJ, j'ai volontairement un texte tr\xe8s long qui a pour but de tester que ce dernier ne d\xe9passe pas de la <div> qui le contient, si tu arrives \xe0 tout lire c'est que \xe7a fonctionne comme pr\xe9vu, d'ailleurs pour les besoin du test j'ai d\xe9cid\xe9 d'augmenter grandement la taille de ce que je raconte, juste pour voir si la div s'accord ou si texte diminue, je ne sais aps encore comment \xe7a va s'afficher je vais voir"),t=new D(w,"Ceci est un test de mise \xe0 jour du text que je raconte, si tu le lis c'est que \xe7a s'est correctement mis \xe0 jour"),i=new D(y,"Moi je suis un test pour voir ce qu'il ce passe si on change l'image de la sc\xe8ne, si tu me vois c'est que \xe7a fonctionne bien"),n=new C("R\xe9ponse g\xe9n\xe9rique qui renvoi vers la sc\xe8ne B",t);e.addAnswer(n);var r=new C("R\xe9ponse g\xe9n\xe9rique qui renvoi vers la sc\xe8ne C",i);e.addAnswer(r);var o=new C("R\xe9ponse g\xe9n\xe9rique, si tu me clique dessus \xe7a met fin \xe0 ce dialogue",E());e.addAnswer(o);var s=new C("R\xe9ponse g\xe9n\xe9rique, si tu me clique dessus \xe7a met fin \xe0 ce dialogue",E());t.addAnswer(s);var c=new C("Quitter ce d\xe9licieux personnage",E());i.addAnswer(c),null==A&&(A=e);return A}(e))),t}function E(){return new D("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QCkRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAAAAAAAD6AAAAAAAAAPoAAWQAAAHAAAABDAyMTCgAAAHAAAABDAxMDCgAQADAAAAAf//AACgAgAEAAAAAQAAAdqgAwAEAAAAAQAAAX4AAAAA/9sAQwAGBAUGBQQGBgUGBwcGCAoQCgoJCQoUDg8MEBcUGBgXFBYWGh0lHxobIxwWFiAsICMmJykqKRkfLTAtKDAlKCko/9sAQwEHBwcKCAoTCgoTKBoWGigoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo/8AAEQgBfgHaAwEiAAIRAQMRAf/EABUAAQEAAAAAAAAAAAAAAAAAAAAI/8QAFBABAAAAAAAAAAAAAAAAAAAAAP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCqQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf//Z")}function Q(A){var e=Object(i.useState)({width:0,height:0}),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)(U(A)),c=Object(s.a)(o,2),a=c[0],d=c[1];return Object(i.useEffect)((function(){r({width:document.getElementById("Encounter-Image").clientWidth,height:document.getElementById("Encounter-Image").clientHeight}),d(U(A))}),[A]),Object(j.jsxs)(i.Fragment,{children:[Object(j.jsxs)("div",{className:"Encounter-Image-Text",children:[Object(j.jsx)("div",{className:"Encounter-Image",id:"Encounter-Image",children:Object(j.jsx)("img",{src:a.picture,alt:"",width:n.width,height:n.height})}),Object(j.jsx)("div",{className:"Encounter-Text",children:a.text})]}),Object(j.jsx)("div",{className:"Encounter-Answers",children:0===a.answers.length?null:a.answers.map((function(e){return Object(j.jsx)("button",{className:"button",onClick:function(){d(U(A,e.goto))},children:e.text})}))})]})}function I(A){var e=A.currentUnit,t=A.topRightUnitDisplaySize;if(!e)return null;if(-1===e.indice)return null;var i=h.a.cloneDeep(e);return(i=Object(g.a)(Object(g.a)({},i),{},{size:.45*t.height,stroke:"black",strokeWidth:5})).coordStart={x:t.width-(t.width-i.radius)+10,y:t.height/2},Object(j.jsx)("svg",{viewBox:"0 0 ".concat(t.width," ").concat(t.height),preserveAspectRatio:"xMidYMid meet",children:Object(j.jsx)("rect",{x:i.coordStart.x,y:i.coordStart.y,width:2*i.radius,height:2*i.radius,fill:i.fill,opacity:i.opacity,strokeWidth:i.strokeWidth})})}var L=function(){var A=Object(i.useState)({width:0,height:0}),e=Object(s.a)(A,2),t=e[0],n=e[1],r=Object(i.useState)({width:0,height:0}),o=Object(s.a)(r,2),c=o[0],a=o[1],d=Object(i.useState)({indice:-1,coordInGrid:{x:0,y:0},coordStart:{x:0,y:0},radius:60,fill:null,opacity:1,encounterType:null,stroke:null,strokeWidth:5,rotateAngle:0}),u=Object(s.a)(d,2),g=u[0],l=u[1];return Object(i.useEffect)((function(){n({width:document.getElementById("topRight-CurrentUnitDisplay").clientWidth,height:document.getElementById("topRight-CurrentUnitDisplay").clientHeight}),a({width:document.getElementById("subLeft-Grig").clientWidth,height:document.getElementById("subLeft-Grig").clientHeight})}),[]),Object(j.jsxs)("div",{className:"mainDivFullScreen",children:[Object(j.jsx)("div",{className:"subLeft-Grig",id:"subLeft-Grig",children:Object(j.jsx)(v,{subLeftGrigSize:c,setCurrentUnit:l,currentUnit:g})}),Object(j.jsxs)("div",{className:"subRight-CurrentUnitDisplay-Encounter",children:[Object(j.jsxs)("div",{className:"topRight-CurrentUnitDisplay",id:"topRight-CurrentUnitDisplay",children:[Object(j.jsx)(I,{topRightUnitDisplaySize:t,currentUnit:g}),"test"]}),Object(j.jsxs)("div",{className:"downRight-encounter",children:[Object(j.jsx)(Q,{encounterType:g.encounterType}),"test"]})]})]})},P=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,20)).then((function(e){var t=e.getCLS,i=e.getFID,n=e.getFCP,r=e.getLCP,o=e.getTTFB;t(A),i(A),n(A),r(A),o(A)}))};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root")),P()}},[[19,1,2]]]);
//# sourceMappingURL=main.0933b63c.chunk.js.map